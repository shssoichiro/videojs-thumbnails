{
  "version": 3,
  "sources": [
    "node_modules/browser-pack/_prelude.js",
    "node_modules/global/window.js",
    "src/js/index.js",
    "src/js/thumbnail_helpers.js",
    "test/index.test.js"
  ],
  "names": [],
  "mappings": "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",
  "file": "generated.js",
  "sourceRoot": "",
  "sourcesContent": [
    "(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()",
    "var win;\n\nif (typeof window !== \"undefined\") {\n    win = window;\n} else if (typeof global !== \"undefined\") {\n    win = global;\n} else if (typeof self !== \"undefined\"){\n    win = self;\n} else {\n    win = {};\n}\n\nmodule.exports = win;\n",
    "import videojs from 'video.js';\nimport ThumbnailHelpers from './thumbnail_helpers.js';\nimport {window} from 'global';\n\n// Default options for the plugin.\nconst defaults = {};\n\n// Cross-compatibility for Video.js 5 and 6.\nconst registerPlugin = videojs.registerPlugin || videojs.plugin;\n// const dom = videojs.dom || videojs;\n\n/**\n * Function to invoke when the player is ready.\n *\n * This is a great place for your plugin to initialize itself. When this\n * function is called, the player will have its DOM and child components\n * in place.\n *\n * @function onPlayerReady\n * @param    {Player} player\n *           A Video.js player.\n * @param    {Object} [options={}]\n *           An object of options left to the plugin author to define.\n */\n\nconst prepareThumbnailsClips = (videoTime, options) => {\n\n  let currentTime = 0;\n  let currentIteration = 0;\n  let thumbnailOffset = 0;\n  const stepTime = options.stepTime;\n  const thumbnailWidth = options.width;\n  const thumbsPerImage = options.perImage;\n  const spriteURL = options.spriteUrl.replace('%d', 1);\n  const thumbnailClips = {\n    0: {\n      src: spriteURL,\n      style: {\n        left: (thumbnailWidth / 2 * -1) + 'px',\n        width: (thumbsPerImage * thumbnailWidth) + 'px',\n        clip: 'rect(0,' + options.width + 'px,' + options.width + 'px, 0)'\n      }\n    }\n  };\n\n  while (currentTime <= videoTime) {\n    currentTime += stepTime;\n    thumbnailOffset = ++currentIteration * thumbnailWidth;\n    const spriteNum = Math.floor(currentTime / (options.stepTime * thumbsPerImage)) + 1;\n    const spriteURL = options.spriteUrl.replace('%d', spriteNum);\n    thumbnailClips[currentTime] = {\n      src: spriteURL,\n      style: {\n        left: ((thumbnailWidth / 2 + thumbnailOffset) * -1) + 'px',\n        clip: 'rect(0, ' + (thumbnailWidth + thumbnailOffset) + 'px,' +\n              options.width + 'px, ' + thumbnailOffset + 'px)'\n      }\n    };\n  }\n  return thumbnailClips;\n};\n\nconst initializeThumbnails = (thumbnailsClips, player) => {\n\n  const thumbnailClips = ThumbnailHelpers.createThumbnails({}, defaults, thumbnailsClips);\n  const progressControl = player.controlBar.progressControl;\n  const thumbnailImg = ThumbnailHelpers.createThumbnailImg(thumbnailClips);\n  const timelineTime = ThumbnailHelpers.createThumbnailTime();\n  const thumbnailArrowDown = ThumbnailHelpers.createThumbnailArrowDown();\n  let thumbnaislHolder = ThumbnailHelpers.createThumbnaislHolder();\n\n  thumbnaislHolder = ThumbnailHelpers.mergeThumbnailElements(thumbnaislHolder,\n                                                             thumbnailImg,\n                                                             timelineTime,\n                                                             thumbnailArrowDown);\n  ThumbnailHelpers.hidePlayerOnHoverTime(progressControl);\n\n  if (window.navigator.userAgent.toLowerCase().indexOf('android') !== -1) {\n    ThumbnailHelpers.supportAndroidEvents();\n  }\n\n  ThumbnailHelpers.createThumbnails(thumbnailImg.style,\n                                    thumbnailClips['0'].style);\n\n  ThumbnailHelpers.centerThumbnailOverCursor(thumbnailImg);\n\n  ThumbnailHelpers.addThumbnailToPlayer(progressControl,\n                                        thumbnaislHolder);\n\n  ThumbnailHelpers.updateOnHover(progressControl,\n                                  thumbnaislHolder,\n                                  thumbnailClips,\n                                  timelineTime,\n                                  thumbnailImg,\n                                  player);\n\n  ThumbnailHelpers.updateOnHoverOut(progressControl,\n                                     thumbnaislHolder,\n                                     player);\n};\n\nconst onPlayerReady = (player, options) => {\n  player.on('loadedmetadata', (() => {\n    const thumbnailsClips = prepareThumbnailsClips(player.duration(), options);\n\n    initializeThumbnails(thumbnailsClips, player);\n  }));\n};\n/**\n * A video.js plugin.\n *\n * In the plugin function, the value of `this` is a video.js `Player`\n * instance. You cannot rely on the player being in a \"ready\" state here,\n * depending on how the plugin is invoked. This may or may not be important\n * to you; if not, remove the wait for \"ready\"!\n *\n * @function thumbnails\n * @param    {Object} [options={}]\n *           An object of options left to the plugin author to define.\n */\nconst thumbnails = function(options) {\n  this.ready(() => {\n    onPlayerReady(this, videojs.mergeOptions(defaults, options));\n  });\n};\n\n// Register the plugin with video.js.\nregisterPlugin('thumbnails', thumbnails);\n\n// Include the version number.\nthumbnails.VERSION = '__VERSION__';\n\nexport default thumbnails;\n",
    "import {document, window} from 'global';\n\nexport default class ThumbnailHelpers {\n\n  static hidePlayerOnHoverTime(progressControl) {\n    const mouseTime = progressControl.el_.getElementsByClassName('vjs-mouse-display')[0];\n\n    mouseTime.style.display = 'none';\n  }\n\n  static createThumbnails(...args) {\n    const thumbnailClip = args.shift() || {};\n\n    Object.keys(args).map((i) => {\n      const singleThumbnail = args[i];\n\n      Object.keys(singleThumbnail).map((property) => {\n        if (singleThumbnail.hasOwnProperty(property)) {\n          if (typeof singleThumbnail[property] === 'object') {\n            thumbnailClip[property] = ThumbnailHelpers.createThumbnails(thumbnailClip[property],\n                                                singleThumbnail[property]);\n          } else {\n            thumbnailClip[property] = singleThumbnail[property];\n          }\n        }\n        return thumbnailClip;\n      });\n      return thumbnailClip;\n    });\n    return thumbnailClip;\n  }\n\n  static getComputedStyle(thumbnailContent, pseudo) {\n    return (prop) => {\n      if (window.getComputedStyle) {\n        return window.getComputedStyle(thumbnailContent, pseudo)[prop];\n      }\n      return thumbnailContent.currentStyle[prop];\n    };\n  }\n\n  static getVisibleWidth(thumbnailContent, width) {\n    if (width) {\n      return parseFloat(width);\n    }\n\n    let clip = ThumbnailHelpers.getComputedStyle(thumbnailContent)('clip');\n\n    if (clip !== 'auto' && clip !== 'inherit') {\n      clip = clip.split(/(?:\\(|\\))/)[1].split(/(?:,| )/);\n      if (clip.length === 4) {\n        return (parseFloat(clip[1]) - parseFloat(clip[3]));\n      }\n    }\n    return 0;\n  }\n\n  static getScrollOffset() {\n    if (window.pageXOffset) {\n      return {\n        x: window.pageXOffset,\n        y: window.pageYOffset\n      };\n    }\n    return {\n      x: document.documentElement.scrollLeft,\n      y: document.documentElement.scrollTop\n    };\n  }\n\n  static supportAndroidEvents(player) {\n    // Android doesn't support :active and :hover on non-anchor and non-button elements\n    // so, we need to fake the :active selector for thumbnails to show up.\n    const progressControl = player.controlBar.progressControl;\n\n    const addFakeActive = () => {\n      progressControl.addClass('fake-active');\n    };\n\n    const removeFakeActive = () => {\n      progressControl.removeClass('fake-active');\n    };\n\n    progressControl.on('touchstart', addFakeActive);\n    progressControl.on('touchend', removeFakeActive);\n    progressControl.on('touchcancel', removeFakeActive);\n  }\n\n  static createThumbnaislHolder() {\n    const wrap = document.createElement('div');\n\n    wrap.className = 'vjs-thumbnail-holder';\n    return wrap;\n  }\n\n  static createThumbnailImg(thumbnailClips) {\n    const thumbnailImg = document.createElement('img');\n\n    thumbnailImg.src = thumbnailClips['0'].src;\n    thumbnailImg.className = 'vjs-thumbnail-img';\n    return thumbnailImg;\n  }\n\n  static createThumbnailTime() {\n    const time = document.createElement('div');\n\n    time.className = 'vjs-thumbnail-time';\n    time.id = 'vjs-time';\n    return time;\n  }\n\n  static createThumbnailArrowDown() {\n    const arrow = document.createElement('div');\n\n    arrow.className = 'vjs-thumbnail-arrow';\n    arrow.id = 'vjs-arrow';\n    return arrow;\n  }\n\n  static mergeThumbnailElements(thumbnailsHolder,\n                                thumbnailImg,\n                                timelineTime,\n                                thumbnailArrowDown) {\n\n    thumbnailsHolder.appendChild(thumbnailImg);\n    thumbnailsHolder.appendChild(timelineTime);\n    thumbnailsHolder.appendChild(thumbnailArrowDown);\n    return thumbnailsHolder;\n  }\n\n  static centerThumbnailOverCursor(thumbnailImg) {\n    // center the thumbnail over the cursor if an offset wasn't provided\n    if (!thumbnailImg.style.left && !thumbnailImg.style.right) {\n      thumbnailImg.onload = () => {\n        const thumbnailWidth = { width: -(thumbnailImg.naturalWidth / 2) };\n\n        thumbnailImg.style.left = `${thumbnailWidth}px`;\n      };\n    }\n  }\n\n  static getVideoDuration(player) {\n    let duration = player.duration();\n\n    player.on('durationchange', () => {\n      duration = player.duration();\n    });\n    return duration;\n  }\n\n  static addThumbnailToPlayer(progressControl, thumbnailsHolder) {\n    progressControl.el().appendChild(thumbnailsHolder);\n  }\n\n  static findMouseLeftOffset(pageMousePositionX, progressControl, pageXOffset, event) {\n    // find the page offset of the mouse\n    let leftOffset = pageMousePositionX || (event.clientX +\n                     document.body.scrollLeft + document.documentElement.scrollLeft);\n\n    // subtract the page offset of the positioned offset parent\n    leftOffset -= progressControl.el().\n                  getBoundingClientRect().left + pageXOffset;\n    return leftOffset;\n  }\n\n  static getMouseVideoTime(mouseLeftOffset, progressControl, duration) {\n    return Math.floor((mouseLeftOffset - progressControl.el().offsetLeft) /\n           progressControl.width() * duration);\n  }\n\n  static updateThumbnailTime(timelineTime, progressControl) {\n    timelineTime.innerHTML = (progressControl.seekBar.mouseTimeDisplay.\n                             el_.attributes['data-current-time'].value);\n  }\n\n  static getPageMousePositionX(event) {\n    let pageMouseOffsetX = event.pageX;\n\n    if (event.changedTouches) {\n      pageMouseOffsetX = event.changedTouches[0].pageX;\n    }\n    return pageMouseOffsetX;\n  }\n\n  static keepThumbnailInsidePlayer(thumbnailImg,\n                                   activeThumbnail,\n                                   thumbnailClips,\n                                   mouseLeftOffset,\n                                   progresBarRightOffset) {\n\n    const width = ThumbnailHelpers.getVisibleWidth(thumbnailImg, activeThumbnail.width ||\n                  thumbnailClips[0].width);\n\n    const halfWidth = width / 2;\n\n    // make sure that the thumbnail doesn't fall off the right side of\n    // the left side of the player\n    if ((mouseLeftOffset + halfWidth) > progresBarRightOffset) {\n      mouseLeftOffset -= (mouseLeftOffset + halfWidth) - progresBarRightOffset;\n    } else if (mouseLeftOffset < halfWidth) {\n      mouseLeftOffset = halfWidth;\n    }\n    return mouseLeftOffset;\n  }\n\n  static updateThumbnailLeftStyle(mouseLeftOffset, thumbnailsHolder) {\n    const leftValue = { mouseLeftOffset };\n\n    thumbnailsHolder.style.left = `${leftValue.mouseLeftOffset}px`;\n  }\n\n  static getActiveThumbnail(thumbnailClips, mouseTime) {\n    let activeClip = 0;\n\n    for (const clipNumber in thumbnailClips) {\n      if (mouseTime > clipNumber) {\n        activeClip = Math.max(activeClip, clipNumber);\n      }\n    }\n    return thumbnailClips[activeClip];\n  }\n\n  static updateThumbnailSrc(activeThumbnail, thumbnailImg) {\n    if (activeThumbnail.src && thumbnailImg.src !== activeThumbnail.src) {\n      thumbnailImg.src = activeThumbnail.src;\n    }\n  }\n\n  static updateThumbnailStyle(activeThumbnail, thumbnailImg) {\n    if (activeThumbnail.style && thumbnailImg.style !== activeThumbnail.style) {\n      ThumbnailHelpers.createThumbnails(thumbnailImg.style, activeThumbnail.style);\n    }\n  }\n\n  static moveListener(event,\n                      progressControl,\n                      thumbnailsHolder,\n                      thumbnailClips,\n                      timelineTime,\n                      thumbnailImg,\n                      player) {\n\n    const duration = ThumbnailHelpers.getVideoDuration(player);\n    const pageXOffset = ThumbnailHelpers.getScrollOffset().x;\n    const progresBarPosition = progressControl.el().\n                               getBoundingClientRect();\n\n    const progresBarRightOffset = (progresBarPosition.width ||\n                                   progresBarPosition.right) +\n                                   pageXOffset;\n\n    const pageMousePositionX = ThumbnailHelpers.getPageMousePositionX(event);\n\n    let mouseLeftOffset = ThumbnailHelpers.findMouseLeftOffset(pageMousePositionX,\n                                                               progressControl,\n                                                               pageXOffset,\n                                                               event);\n\n    const mouseTime = ThumbnailHelpers.getMouseVideoTime(mouseLeftOffset,\n                                                         progressControl,\n                                                         duration);\n\n    const activeThumbnail = ThumbnailHelpers.getActiveThumbnail(thumbnailClips,\n                                                                mouseTime);\n\n    ThumbnailHelpers.updateThumbnailTime(timelineTime, progressControl);\n\n    ThumbnailHelpers.updateThumbnailSrc(activeThumbnail, thumbnailImg);\n\n    ThumbnailHelpers.updateThumbnailStyle(activeThumbnail, thumbnailImg);\n\n    mouseLeftOffset = ThumbnailHelpers.keepThumbnailInsidePlayer(thumbnailImg,\n                                                activeThumbnail,\n                                                thumbnailClips,\n                                                mouseLeftOffset,\n                                                progresBarRightOffset);\n\n    ThumbnailHelpers.updateThumbnailLeftStyle(mouseLeftOffset, thumbnailsHolder);\n  }\n\n  static updateOnHover(progressControl,\n                       thumbnailsHolder,\n                       thumbnailClips,\n                       timelineTime,\n                       thumbnailImg,\n                       player) {\n\n    // update the thumbnail while hovering\n    progressControl.on('mousemove', (event) => {\n      ThumbnailHelpers.moveListener(event,\n                                    progressControl,\n                                    thumbnailsHolder,\n                                    thumbnailClips,\n                                    timelineTime,\n                                    thumbnailImg,\n                                    player);\n    });\n    progressControl.on('touchmove', (event) => {\n      ThumbnailHelpers.moveListener(event,\n                                    progressControl,\n                                    thumbnailsHolder,\n                                    thumbnailClips,\n                                    timelineTime,\n                                    thumbnailImg);\n    });\n  }\n\n  static hideThumbnail(thumbnailsHolder) {\n    thumbnailsHolder.style.left = '-1000px';\n  }\n\n  static updateOnHoverOut(progressControl, thumbnailsHolder, player) {\n\n    // move the placeholder out of the way when not hovering\n    progressControl.on('mouseout', (event) => {\n      ThumbnailHelpers.hideThumbnail(thumbnailsHolder);\n    });\n    progressControl.on('touchcancel', (event) => {\n      ThumbnailHelpers.hideThumbnail(thumbnailsHolder);\n    });\n    progressControl.on('touchend', (event) => {\n      ThumbnailHelpers.hideThumbnail(thumbnailsHolder);\n    });\n    player.on('userinactive', (event) => {\n      ThumbnailHelpers.hideThumbnail(thumbnailsHolder);\n    });\n  }\n}\n",
    "import {document} from 'global';\n\nimport QUnit from 'qunitjs';\nimport sinon from 'sinon';\nimport videojs from 'video.js';\n\nimport plugin from '../src/js/index.js';\nimport ThumbnailHelpers from '../src/js/thumbnail_helpers.js';\n\nconst Player = videojs.getComponent('Player');\n\nQUnit.module('sanity tests');\n\nQUnit.test('the environment is sane', function(assert) {\n  assert.strictEqual(typeof Array.isArray, 'function', 'es5 exists');\n  assert.strictEqual(typeof sinon, 'object', 'sinon exists');\n  assert.strictEqual(typeof videojs, 'function', 'videojs exists');\n  assert.strictEqual(typeof plugin, 'function', 'plugin is a function');\n});\n\nQUnit.module('videojs-thumbnails', {\n\n  beforeEach() {\n\n    // Mock the environment's timers because certain things - particularly\n    // player readiness - are asynchronous in video.js 5. This MUST come\n    // before any player is created; otherwise, timers could get created\n    // with the actual timer methods!\n\n    this.prepareTresholds = {\n      width: 100,\n      spriteUrl: 'http://placehold.it/350x150',\n      stepTime: 2\n    };\n\n    this.clock = sinon.useFakeTimers();\n\n    this.fixture = document.getElementById('qunit-fixture');\n    this.video = document.createElement('video');\n    this.fixture.appendChild(this.video);\n    this.player = videojs(this.video);\n  },\n\n  afterEach() {\n    this.player.dispose();\n    this.clock.restore();\n  }\n});\n\nQUnit.test('registers itself with video.js', function(assert) {\n\n  assert.expect(8);\n\n  assert.strictEqual(\n    typeof Player.prototype.thumbnails,\n    'function',\n    'videojs-thumbnails plugin was registered'\n  );\n\n  this.player.thumbnails(this.prepareTresholds);\n  // Tick the clock forward enough to trigger the player to be \"ready\".\n  this.clock.tick(1);\n  this.player.trigger('loadedmetadata');\n\n  assert.equal(\n    1,\n    this.player.contentEl().getElementsByClassName('vjs-thumbnail-holder').length,\n    'The plugin adds a wrapper div with class vjs-thumbnail-holder to the player'\n  );\n\n  assert.equal(\n    1,\n    this.player.contentEl().getElementsByClassName('vjs-thumbnail-img').length,\n    'The plugin adds thumbnail image  with class vjs-thumbnail-img to the player'\n  );\n\n  assert.equal(\n    1,\n    this.player.contentEl().getElementsByClassName('vjs-thumbnail-time').length,\n    'The plugin adds tile div with class vjs-thumbnail-time to the player'\n  );\n\n  assert.equal(\n    1,\n    this.player.contentEl().getElementsByClassName('vjs-thumbnail-arrow').length,\n    'The plugin adds thumbnail arrow down elwment'\n  );\n\n  this.image = this.player.contentEl().getElementsByClassName('vjs-thumbnail-img')[0];\n\n  assert.equal(\n    'http://placehold.it/350x150',\n    this.image.src,\n    'The plugin adds thumbnail image with correct src url'\n  );\n\n  assert.equal(\n    'rect(0px 100px 100px 0px)',\n    this.image.style.clip,\n    'The plugin adds thumbnail image with neccessery styles'\n  );\n\n  assert.equal(\n    '-50px',\n    this.image.style.left,\n    'The plugin adds thumbnail image with correct left positioning'\n  );\n});\n\nQUnit.test('Thumbnail behaviour when mouse hover', function(assert) {\n\n  assert.expect(3);\n\n  assert.strictEqual(\n    typeof Player.prototype.thumbnails,\n    'function',\n    'videojs-thumbnails plugin was registered'\n  );\n\n  this.player.thumbnails(this.prepareTresholds);\n  this.clock.tick(1);\n  this.player.trigger('loadedmetadata');\n\n  const thumbnaislHolder = this.player.contentEl().\n                           getElementsByClassName('vjs-thumbnail-holder')[0];\n\n  ThumbnailHelpers.updateThumbnailLeftStyle(200, thumbnaislHolder);\n\n  assert.equal(\n    '200px',\n    thumbnaislHolder.style.left,\n    'The plugin should add styles left to the holder element on hover'\n  );\n\n  ThumbnailHelpers.hideThumbnail(thumbnaislHolder);\n\n  assert.equal(\n    '-1000px',\n    thumbnaislHolder.style.left,\n    'The plugin adds left styles to the holder elemend and hide it when mouse out'\n  );\n});"
  ]
}