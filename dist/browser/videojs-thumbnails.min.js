/*!
 * @name videojs-thumbnails
 * @version 1.0.2
 * @author Mariusz Rajczakowski <mrajczakowski@gmail.com>
 * @license MIT
 */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n;n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,n.videojsThumbnails=e()}}(function(){return function(){function e(n,t,o){function i(u,a){if(!t[u]){if(!n[u]){var l="function"==typeof require&&require;if(!a&&l)return l(u,!0);if(r)return r(u,!0);var f=new Error("Cannot find module '"+u+"'");throw f.code="MODULE_NOT_FOUND",f}var c=t[u]={exports:{}};n[u][0].call(c.exports,function(e){return i(n[u][1][e]||e)},c,c.exports,e,n,t,o)}return t[u].exports}for(var r="function"==typeof require&&require,u=0;u<o.length;u++)i(o[u]);return i}return e}()({1:[function(e,n,t){(function(e){var t;t="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},n.exports=t}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,n,t){"use strict";function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}(),r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=function(e){return e&&"object"===(void 0===e?"undefined":r(e))&&"default"in e?e.default:e}("undefined"!=typeof window?window.videojs:void 0!==a?a.videojs:null),a=e(1),l=function(){function e(){o(this,e)}return i(e,null,[{key:"hidePlayerOnHoverTime",value:function(e){e.el_.getElementsByClassName("vjs-mouse-display")[0].style.display="none"}},{key:"createThumbnails",value:function(){for(var n=arguments.length,t=Array(n),o=0;o<n;o++)t[o]=arguments[o];var i=t.shift()||{};return Object.keys(t).map(function(n){var o=t[n];return Object.keys(o).map(function(n){return o.hasOwnProperty(n)&&("object"===r(o[n])?i[n]=e.createThumbnails(i[n],o[n]):i[n]=o[n]),i}),i}),i}},{key:"getComputedStyle",value:function(e,n){return function(t){return a.window.getComputedStyle?a.window.getComputedStyle(e,n)[t]:e.currentStyle[t]}}},{key:"getVisibleWidth",value:function(n,t){if(t)return parseFloat(t);var o=e.getComputedStyle(n)("clip");return"auto"!==o&&"inherit"!==o&&(o=o.split(/(?:\(|\))/)[1].split(/(?:,| )/),4===o.length)?parseFloat(o[1])-parseFloat(o[3]):0}},{key:"getScrollOffset",value:function(){return a.window.pageXOffset?{x:a.window.pageXOffset,y:a.window.pageYOffset}:{x:a.document.documentElement.scrollLeft,y:a.document.documentElement.scrollTop}}},{key:"supportAndroidEvents",value:function(e){var n=e.controlBar.progressControl,t=function(){n.addClass("fake-active")},o=function(){n.removeClass("fake-active")};n.on("touchstart",t),n.on("touchend",o),n.on("touchcancel",o)}},{key:"createThumbnaislHolder",value:function(){var e=a.document.createElement("div");return e.className="vjs-thumbnail-holder",e}},{key:"createThumbnailImg",value:function(e){var n=a.document.createElement("img");return n.src=e[0].src,n.className="vjs-thumbnail-img",n}},{key:"createThumbnailTime",value:function(){var e=a.document.createElement("div");return e.className="vjs-thumbnail-time",e.id="vjs-time",e}},{key:"createThumbnailArrowDown",value:function(){var e=a.document.createElement("div");return e.className="vjs-thumbnail-arrow",e.id="vjs-arrow",e}},{key:"mergeThumbnailElements",value:function(e,n,t,o){return e.appendChild(n),e.appendChild(t),e.appendChild(o),e}},{key:"centerThumbnailOverCursor",value:function(e){e.style.left||e.style.right||(e.onload=function(){var n={width:-e.naturalWidth/2};e.style.left=n+"px"})}},{key:"getVideoDuration",value:function(e){var n=e.duration();return e.on("durationchange",function(){n=e.duration()}),n}},{key:"addThumbnailToPlayer",value:function(e,n){e.el().appendChild(n)}},{key:"findMouseLeftOffset",value:function(e,n,t,o){var i=e||o.clientX+a.document.body.scrollLeft+a.document.documentElement.scrollLeft;return i-=n.el().getBoundingClientRect().left+t}},{key:"getMouseVideoTime",value:function(e,n,t){return Math.floor((e-n.el().offsetLeft)/n.width()*t)}},{key:"updateThumbnailTime",value:function(e,n){e.innerHTML=n.seekBar.mouseTimeDisplay.el_.innerText}},{key:"getPageMousePositionX",value:function(e){var n=e.pageX;return e.changedTouches&&(n=e.changedTouches[0].pageX),n}},{key:"keepThumbnailInsidePlayer",value:function(n,t,o,i,r){var u=e.getVisibleWidth(n,t.width||o[0].width),a=u/2;return i+a>r?i-=i+a-r:i<a&&(i=a),i}},{key:"updateThumbnailLeftStyle",value:function(e,n){var t={mouseLeftOffset:e};n.style.left=t.mouseLeftOffset+"px"}},{key:"getActiveThumbnail",value:function(e,n){var t=0;for(var o in e)n>o&&(t=Math.max(t,o));return e[t]}},{key:"updateThumbnailSrc",value:function(e,n){e.src&&n.src!==e.src&&(n.src=e.src)}},{key:"updateThumbnailStyle",value:function(n,t){n.style&&t.style!==n.style&&e.createThumbnails(t.style,n.style)}},{key:"moveListener",value:function(n,t,o,i,r,u){var a=e.getScrollOffset().x,l=t.el().getBoundingClientRect(),f=(l.width||l.right)+a,c=e.getPageMousePositionX(n),s=e.findMouseLeftOffset(c,t,a,n),d=e.parseDisplayTime(r.innerText),m=e.getActiveThumbnail(i,d);e.updateThumbnailTime(r,t),e.updateThumbnailSrc(m,u),e.updateThumbnailStyle(m,u),s=e.keepThumbnailInsidePlayer(u,m,i,s,f),e.updateThumbnailLeftStyle(s,o)}},{key:"updateOnHover",value:function(n,t,o,i,r,u){n.on("mousemove",function(a){e.moveListener(a,n,t,o,i,r,u)}),n.on("touchmove",function(u){e.moveListener(u,n,t,o,i,r)})}},{key:"hideThumbnail",value:function(e){e.style.left="-1000px"}},{key:"updateOnHoverOut",value:function(n,t,o){n.on("mouseout",function(n){e.hideThumbnail(t)}),n.on("touchcancel",function(n){e.hideThumbnail(t)}),n.on("touchend",function(n){e.hideThumbnail(t)}),o.on("userinactive",function(n){e.hideThumbnail(t)})}},{key:"parseDisplayTime",value:function(e){for(var n=e.split(":"),t=0,o=1;;){if(0===n.length)break;t+=n.pop()*o,o*=60}return t}}]),e}(),f={},c=u.registerPlugin||u.plugin,s=function(e,n){for(var t=0,o=0,i=0,r=n.stepTime,u=n.width,a=n.perImage,l=n.spriteUrl.replace("%d",1),f={0:{src:l,style:{left:u/2*-1+"px",width:a*u+"px",clip:"rect(0,"+n.width+"px,"+n.width+"px, 0)"}}};t<=e;){t+=r,i=++o%a*u;var c=Math.floor(t/(r*a))+1,s=n.spriteUrl.replace("%d",c);f[t]={src:s,style:{left:-1*(u/2+i)+"px",clip:"rect(0, "+(u+i)+"px,"+n.width+"px, "+i+"px)"}}}return f},d=function(e,n){var t=s(e.duration(),n),o=l.createThumbnails({},f,t),i=e.controlBar.progressControl,r=l.createThumbnailImg(o),u=l.createThumbnailTime(),c=l.createThumbnailArrowDown(),d=l.createThumbnaislHolder();d=l.mergeThumbnailElements(d,r,u,c),l.hidePlayerOnHoverTime(i),-1!==a.window.navigator.userAgent.toLowerCase().indexOf("android")&&l.supportAndroidEvents(),l.createThumbnails(r.style,o[0].style),l.centerThumbnailOverCursor(r),l.addThumbnailToPlayer(i,d),l.updateOnHover(i,d,o,u,r,e),l.updateOnHoverOut(i,d,e)},m=function(e,n){e.duration()&&d(e,n),e.on("loadedmetadata",function(){d(e,n)})},p=function(e){var n=this;this.ready(function(){m(n,u.mergeOptions(f,e))})};c("thumbnails",p),p.VERSION="1.0.2",n.exports=p},{1:1}]},{},[2])(2)});
//# sourceMappingURL=videojs-thumbnails.min.js.map